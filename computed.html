<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<div id = 'app'>
  {{ getFullName }},
  <button onclick="vue.a++">  </button>
</div>
<script src = './dist/umd/vue.js'></script>
<script>
  const vue = new Vue({
    el: '#app',
    data: {
      firstName: '张',
      lastName: '三'
    },
    computed: {
      // 内部也适用了 defineProperty,但是内部存在一个变量 dirty缓存旧值， 只有computed 依赖的属性发生变化了，才回去执行ff
      // 根据依赖的数据重新执行
      getFullName () {
        // 计算属性在第一次求值时候,就会被 this.firstName 和 this.lastName 依赖收集
        // 但是也需要让其收集渲染 watcher
        // 之后这两个属性变了, 这个 watcher 就会被执行
        console.log('QUZHILE')
        return this.firstName + this.lastName
      }
    }
  })
</script>
</body>
</html>
